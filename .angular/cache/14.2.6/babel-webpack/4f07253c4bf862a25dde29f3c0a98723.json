{"ast":null,"code":"import _asyncToGenerator from \"D:/My_Programs/Lovely_Wires/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Price } from './models/price';\nimport { PriceService } from '../services/price.service';\nimport { CoilService } from '../services/coil.service';\nimport { ConnectorService } from '../services/connector.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/price.service\";\nimport * as i2 from \"../services/coil.service\";\nimport * as i3 from \"../services/connector.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction MakePriceComponent_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", item_r2.name, \" - \", item_r2.type, \"\");\n  }\n}\n\nfunction MakePriceComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const price_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(price_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(price_r3.cost);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(price_r3.itemofprice);\n  }\n}\n\nexport class MakePriceComponent {\n  constructor(priceservice, coilservice, connservice) {\n    this.priceservice = priceservice;\n    this.coilservice = coilservice;\n    this.connservice = connservice;\n    this.itemname = \"\";\n    this.itemtype = \"\";\n    this.prices = new Array();\n    this.newPrice = new Price(\"\", \"\", 0, null);\n    this.listOfItems = new Array();\n  }\n\n  ngOnInit() {\n    this.getPrices();\n    this.getItems();\n  }\n\n  getPrices() {\n    this.priceservice.getPrices().subscribe(data => {\n      this.prices = data;\n    }, e => {\n      console.log(e);\n    });\n  }\n\n  postPrice() {\n    this.priceservice.postPrice(this.newPrice).subscribe(data => {\n      const temp = data;\n\n      if (temp.name != null) {\n        this.prices.push(data);\n      } else {\n        this.getPrices();\n      }\n    }, e => {\n      console.log(e);\n    });\n  }\n\n  setItem() {\n    console.log(this.selectitem.name);\n  }\n\n  toArray(array, set) {\n    array = Array.from(set);\n  }\n\n  getItems() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const uniqitems = new Set();\n      yield _this.coilservice.getCoils().subscribe(data => {\n        data.forEach(coil => {\n          uniqitems.add(coil);\n        });\n      }, e => {\n        console.log(e);\n      });\n      yield _this.connservice.getConnectors().subscribe(data => {\n        const temp = data;\n        data.forEach(t => {\n          uniqitems.add(t);\n        });\n        console.log(uniqitems); //this.listOfItems = Array.from(uniqitems);\n        //console.log(this.listOfItems);\n      }, e => {\n        console.log(e);\n      });\n\n      _this.toArray(_this.listOfItems, uniqitems);\n\n      console.log(_this.listOfItems);\n    })();\n  }\n\n}\n\nMakePriceComponent.ɵfac = function MakePriceComponent_Factory(t) {\n  return new (t || MakePriceComponent)(i0.ɵɵdirectiveInject(i1.PriceService), i0.ɵɵdirectiveInject(i2.CoilService), i0.ɵɵdirectiveInject(i3.ConnectorService));\n};\n\nMakePriceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MakePriceComponent,\n  selectors: [[\"make-price\"]],\n  features: [i0.ɵɵProvidersFeature([PriceService, CoilService, ConnectorService])],\n  decls: 37,\n  vars: 5,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-5\"], [\"for\", \"PriceName\"], [\"id\", \"PriceName\", \"type\", \"text\", \"name\", \"priceName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"PriceCost\"], [\"id\", \"PriceCost\", \"type\", \"number\", \"name\", \"priceCost\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-10\"], [\"for\", \"ItemOfPrice\"], [\"id\", \"ItemOfPrice\", \"name\", \"priceItem\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-warning\"]],\n  template: function MakePriceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Make Prices\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\")(4, \"div\", 1)(5, \"div\", 2)(6, \"label\", 3);\n      i0.ɵɵtext(7, \"name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function MakePriceComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.newPrice.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"label\", 5);\n      i0.ɵɵtext(11, \"cost\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function MakePriceComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.newPrice.cost = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"div\", 7)(14, \"label\", 8);\n      i0.ɵɵtext(15, \"Item\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"select\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function MakePriceComponent_Template_select_ngModelChange_16_listener($event) {\n        return ctx.selectitem = $event;\n      })(\"ngModelChange\", function MakePriceComponent_Template_select_ngModelChange_16_listener() {\n        return ctx.setItem();\n      });\n      i0.ɵɵelement(17, \"option\", 10);\n      i0.ɵɵtemplate(18, MakePriceComponent_option_18_Template, 2, 2, \"option\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 1)(20, \"div\", 2)(21, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function MakePriceComponent_Template_button_click_21_listener() {\n        return ctx.postPrice();\n      });\n      i0.ɵɵtext(22, \"Make Price\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 2)(24, \"button\", 13);\n      i0.ɵɵtext(25, \"Reset\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(26, \"table\")(27, \"thead\")(28, \"tr\")(29, \"th\");\n      i0.ɵɵtext(30, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"th\");\n      i0.ɵɵtext(32, \"Cost\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"th\");\n      i0.ɵɵtext(34, \"Item's name\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"tbody\");\n      i0.ɵɵtemplate(36, MakePriceComponent_tr_36_Template, 7, 3, \"tr\", 11);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.newPrice.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.newPrice.cost);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectitem);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listOfItems);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.prices);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["Price","PriceService","CoilService","ConnectorService","i0","MakePriceComponent","constructor","priceservice","coilservice","connservice","prices","Array","newPrice","listOfItems","ngOnInit","getPrices","getItems","subscribe","data","e","console","log","postPrice","temp","name","push","setItem","selectitem","toArray","array","set","from","uniqitems","Set","getCoils","forEach","coil","add","getConnectors","t","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\My_Programs\\Lovely_Wires\\src\\app\\components\\makeprice.component.ts","D:\\My_Programs\\Lovely_Wires\\src\\app\\components\\html\\makeprice.component.html"],"sourcesContent":["import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NgModel } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { Price } from './models/price';\r\nimport { Coil } from './models/coil';\r\nimport { Connector } from './models/connector';\r\nimport { PriceService } from '../services/price.service';\r\nimport { CoilService } from '../services/coil.service';\r\nimport { ConnectorService } from '../services/connector.service';\r\nimport { Iitem } from './models/Iitem.interface';\r\n\r\n@Component({\r\n  selector: 'make-price',\r\n  templateUrl: './html/makeprice.component.html',\r\n  providers: [PriceService, CoilService, ConnectorService]\r\n\r\n})\r\nexport class MakePriceComponent implements OnInit {\r\n\r\n  prices: Price[];\r\n  newPrice: Price;\r\n  listOfItems: Iitem[];\r\n  selectitem: Iitem;\r\n  itemname: string = \"\";\r\n  itemtype: string = \"\";\r\n\r\n  constructor(private priceservice: PriceService, private coilservice: CoilService, private connservice: ConnectorService) {\r\n\r\n    this.prices = new Array<Price>();\r\n    this.newPrice = new Price(\"\", \"\", 0, null);\r\n    this.listOfItems = new Array<Iitem>();\r\n    \r\n\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    this.getPrices();\r\n    this.getItems();\r\n\r\n  }\r\n\r\n  getPrices() {\r\n\r\n    this.priceservice.getPrices().subscribe((data: Array<Price>) => {\r\n\r\n      this.prices = data;\r\n\r\n    },(e) => {\r\n\r\n      console.log(e);\r\n\r\n    });\r\n\r\n  }\r\n\r\n  postPrice() {\r\n\r\n    this.priceservice.postPrice(this.newPrice).subscribe((data) => {\r\n      const temp = data as Price;\r\n      if (temp.name!=null) {\r\n\r\n        this.prices.push(data);\r\n        \r\n      }\r\n      else {\r\n\r\n        this.getPrices();\r\n\r\n      }\r\n\r\n    }, (e) => {\r\n\r\n      console.log(e);\r\n\r\n    });\r\n\r\n  }\r\n\r\n  setItem() {\r\n\r\n    console.log(this.selectitem.name);\r\n    \r\n\r\n  }\r\n\r\n  toArray(array: Array<Iitem>, set: Set<Iitem>) {\r\n\r\n    array = Array.from(set);\r\n\r\n  }\r\n\r\n  async getItems() {\r\n    \r\n    const uniqitems: Set<Iitem> = new Set<Iitem>();\r\n    \r\n    await this.coilservice.getCoils().subscribe((data: Array<Coil>) => {\r\n\r\n\r\n      data.forEach(coil => {\r\n\r\n        uniqitems.add(coil);\r\n\r\n      });\r\n\r\n    }, (e) => {\r\n\r\n      console.log(e);\r\n\r\n    });\r\n\r\n    await this.connservice.getConnectors().subscribe((data: Array<Connector>) => {\r\n\r\n      const temp = data;\r\n      data.forEach(t => {\r\n        uniqitems.add(t);\r\n      });\r\n\r\n      console.log(uniqitems);\r\n\r\n      //this.listOfItems = Array.from(uniqitems);\r\n\r\n      //console.log(this.listOfItems);\r\n\r\n\r\n    }, (e) => {\r\n\r\n      console.log(e);\r\n\r\n    });\r\n\r\n    this.toArray(this.listOfItems, uniqitems);\r\n\r\n    console.log(this.listOfItems);\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <h1>Make Prices</h1>\r\n  <form>\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-5\">\r\n        <label for=\"PriceName\">name</label>\r\n        <input id=\"PriceName\" type=\"text\" class=\"form-control\" [(ngModel)]=\"newPrice.name\" name=\"priceName\" />\r\n      </div>\r\n\r\n      <div class=\"col-5\">\r\n        <label for=\"PriceCost\">cost</label>\r\n        <input id=\"PriceCost\" type=\"number\" class=\"form-control\" [(ngModel)]=\"newPrice.cost\" name=\"priceCost\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-10\">\r\n      <label for=\"ItemOfPrice\">Item</label>\r\n      <select id=\"ItemOfPrice\" class=\"form-select\" [(ngModel)]=\"selectitem\" (ngModelChange)=\"setItem()\" name=\"priceItem\">\r\n        <option value=\"\"></option>\r\n        <option *ngFor=\"let item of listOfItems\">{{item.name}} - {{item.type}}</option>\r\n      </select>\r\n\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-5\">\r\n        <button (click)=\"postPrice()\" class=\"btn btn-primary\">Make Price</button>\r\n      </div>\r\n      <div class=\"col-5\">\r\n        <button class=\"btn btn-warning\">Reset</button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>Cost</th>\r\n        <th>Item's name</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let price of prices\">\r\n        <td>{{price.name}}</td>\r\n        <td>{{price.cost}}</td>\r\n        <td>{{price.itemofprice}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n</div>\r\n"]},"metadata":{},"sourceType":"module"}